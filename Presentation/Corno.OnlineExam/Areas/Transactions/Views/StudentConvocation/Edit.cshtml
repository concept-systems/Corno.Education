@model Corno.Data.Transactions.ConvocationViewModel
@using Kendo.Mvc.UI
@{
    ViewBag.Title = "Edit Convocation Form No : " + Model.Id;
}
<div class="row">
    <div id="breadcrumb" class="col-md-12">
        <ol class="breadcrumb">
            <li><a href="#">Online Exam</a></li>
            <li><a href="#">Edit Convocation Form</a></li>
        </ol>
    </div>
</div>
@Html.ValidationSummary()
<div class="row">
    <div class="col-xs-12 col-sm-12">
        <div class="box ui-draggable ui-droppable">
            <div class="box-header">
                <div class="box-name">
                    <i class="fa fa-edit large"></i>
                    <span>Edit Convocation Form No :  @Model.Id</span>
                </div>
                <div class="box-icons">
                    <a class="collapse-link">
                        <i class="fa fa-chevron-up"></i>
                    </a>
                    <a class="expand-link">
                        <i class="fa fa-expand"></i>
                    </a>
                    <a class="close-link">
                        <i class="fa fa-times"></i>
                    </a>
                </div>
                <div class="no-move"></div>
            </div>
            <div class="box-content">
                @using (Html.BeginForm())
                {
                    @Html.AntiForgeryToken()
                    @Html.ValidationSummary(true)
                    @Html.HiddenFor(m => m.StudentId, new { @id = "StudentID" })
                    @Html.HiddenFor(m => m.ID)
                    <div class="form-horizontal">
                        <div class="box-content">
                            <div class="form-group">
                                <div class="col-sm-2">
                                    <button type="button" value="Index" class="btn btn-primary btn-label-left pull-left" onclick="location.href = '@Url.Action("Index", "Convocation")'">
                                        <span><i class="fa fa-list-ul"></i></span>
                                        Back to List
                                    </button>
                                </div>
                                <div class="col-sm-offset-8 col-sm-2">
                                    <button type="submit" value="Create" title="Save" class="btn btn-primary btn-label-left pull-right">
                                        <span><i class="fa fa-save"></i></span>
                                        Submit
                                    </button>
                                </div>
                            </div>
                            <div class="panel panel-info">
                                <div class="panel-heading"><strong>PRN Details</strong></div>
                                @*<div class="form-group  has-feedback">
                                        <label class="  col-sm-2 control-label"></label>
                                        <div class="col-sm-3">
                                            <div class="checkbox ">
                                                <label>
                                                    <input type="checkbox" id="ClassImprovementStudent" name="ClassImprovementStudent" value="true" @(Model.ClassImprovementStudent ? "checked=\"checked\"" : "")> Class Improvement Student ?
                                                    <i class="fa fa-square-o small"></i>
                                                </label>
                                            </div>
                                        </div>
                                    </div>*@
                                @*<div class="form-group  has-feedback">
                                        <label class="col-sm-2 control-label">Appear Exam :</label>
                                        <div class="col-sm-3">
                                            @Html.TextBoxFor(m => m.AppearExam, new { @id = "AppearExam", @class = "form-control", value = "@Model.AppearExam", placeholder = "Appear Exam", data_toggle = "tooltip", data_placement = "bottom", title = "Appear Exam" })
                                        </div>
                                        <label class="col-sm-4 text-right">Record No:</label>
                                        <div class="col-sm-2 ">
                                            @Html.TextBoxFor(m => m.RecordNo, new { @id = "RecordNo", @class = "form-control", value = "@Model.RecordNo", placeholder = "Record No", data_toggle = "tooltip", data_placement = "bottom", title = "Record No" })
                                        </div>
                                    </div>*@
                                <div class="form-group  has-feedback">
                                    <label class="col-sm-2 control-label">PRN :</label>
                                    <div class="col-sm-3">
                                        @Html.TextBoxFor(m => m.PrnNo, new { @id = "PRNNo", @class = "form-control", value = "@Model.PRNNo", placeholder = "PRN No", data_toggle = "tooltip", data_placement = "bottom", title = "PRN No" })
                                    </div>
                                    <label class=" col-sm-4 control-label"></label>
                                    @*<div class="col-sm-2">
                                            <div class="checkbox ">
                                                <label>
                                                    <input type="checkbox" id="ForigenStudent" name="ForigenStudent" value="true" @(Model.ForeignStudent ? "checked=\"checked\"" : "")>Forigen Student ?
                                                    <i class="fa fa-square-o small"></i>
                                                </label>
                                            </div>
                                        </div>*@
                                </div>
                            </div>
                            <div class="panel panel-info">
                                <div class="panel-heading"><strong>Personal Details</strong></div>
                                <div class="form-group  has-feedback">
                                    <label class="col-sm-2 control-label">Address <code>*</code>:</label>
                                    <div class="col-sm-4">
                                        @Html.TextAreaFor(m => m.Address, new { rows = 5, columns = 60, @id = "Address", @class = "form-control", value = "@Model.Address", placeholder = " Enter Address", data_toggle = "tooltip", data_placement = "bottom", title = " Address" })
                                    </div>
                                    <label class="col-sm-2 control-label">Pincode <code>*</code>:</label>
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(m => m.Pincode, new { @id = "Pincode", @class = "form-control", value = "@Model.Pincode", placeholder = "Pincode", data_toggle = "tooltip", data_placement = "bottom", title = "Pincode" })
                                    </div>
                                    <label class="col-sm-2 control-label">Mobile <code>*</code>:</label>
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(m => m.Phone, new { @id = "Phone", @class = "form-control", value = "@Model.Phone", placeholder = "Phone", data_toggle = "tooltip", data_placement = "bottom", title = "Phone" })
                                    </div>
                                    <label class="col-sm-2 control-label">Email <code>*</code>:</label>
                                    <div class="col-sm-4">
                                        @Html.TextBoxFor(m => m.Email, new { @id = "Email", @class = "form-control", value = "@Model.Email", placeholder = "Email", data_toggle = "tooltip", data_placement = "bottom", title = "Email" })
                                    </div>
                                </div>
                            </div>
                            <div class="panel panel-info">
                                <div class="panel-heading"><strong>Exam Details</strong></div>
                                <table class="table">
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Name :</strong></th>
                                        <td id="tdName" class="text-left col-sm-6"></td>
                                        <th class="text-left col-sm-2"><strong>Photo :</strong></th>
                                        <td id="tdPhoto" class="text-left col-sm-4" rowspan="7"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Gender :</strong></th>
                                        <td id="tdGender" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Centre :</strong></th>
                                        <td id="tdCentre" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        @*<th class="text-left col-sm-2"><strong>Centre :</strong></th>
                                            <td id="tdCentre" class="text-left col-sm-3"></td>*@
                                        <th class="text-left col-sm-2"><strong>College :</strong></th>
                                        <td id="tdCollege" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Course Type :</strong></th>
                                        <td id="tdCourseType" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Course :</strong></th>
                                        <td id="tdCourse" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Branch :</strong></th>
                                        <td id="tdBranch" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        @*<th class="text-left col-sm-2"><strong>Course Part :</strong></th>
                                            <td id="tdCoursePart" class="text-left"></td>*@
                                        <th class="text-left col-sm-2"><strong>Passing Month :</strong></th>
                                        <td id="tdLastPassingMonth" class="text-left"></td>
                                        <th class="text-left col-sm-2"><strong>Passing Year :</strong></th>
                                        <td id="tdLastPassingYear" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>Seat No :</strong></th>
                                        <td id="tdLastSeatNo" class="text-left"></td>
                                        <td class="text-left col-sm-2"><strong>Class / Grade :</strong></td>
                                        <td id="tdClass" class="text-left"></td>
                                    </tr>
                                    <tr>
                                        <th class="text-left col-sm-2"><strong>CGPA :</strong></th>
                                        <td id="tdCGPA" class="text-left"></td>
                                        <td class="text-left col-sm-2"><strong></strong></td>
                                        <td id="" class="text-left"></td>
                                    </tr>

                                </table>
                            </div>
                            <div class="panel panel-info">
                                <div class="panel-heading"><strong>Fee Details</strong></div>
                                <div class="form-group  has-feedback">
                                    <div class=" panel col-sm-5 ">
                                        <div class="panel-heading"><strong>Carrier</strong></div>
                                        <div class="form-group  has-feedback">
                                            <div class="col-sm-4">
                                                <div class="radio">
                                                    <label>
                                                        @*onclick="FeeForInPerson()"     checked="checked"*@
                                                        <input type="radio" id="InPerson" name="fs1" value="@Model.InPerson" onclick="FeeForInPerson()"> In Person
                                                        <i class="fa fa-circle-o small"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group  has-feedback">
                                            <div class="col-sm-4">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" id="InAbsentia" name="fs1" value="@Model.InAbsentia"> By Post
                                                        <i class="fa fa-circle-o small"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group  has-feedback col-sm-offset-2" id="postalCharges" style="display:none;">
                                            <div class="form-group  has-feedback">
                                                <label class="col-sm-4 control-label">
                                                    <input type="radio" id="InIndia" name="InIndia" onclick="FeeForIndia() "> In India
                                                </label>
                                            </div>
                                            <div class="form-group  has-feedback">
                                                <label class="col-sm-4 control-label">
                                                    <input type="radio" id="Abroad" name="Abroad" onclick="FeeForAbroad()">  Abroad
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class=" panel col-sm-offset-2 col-sm-5 ">
                                        <div class="panel-heading"><strong>Payment :</strong></div>
                                        <div class="form-group  has-feedback">
                                            <div class="col-sm-4">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" id="id1" name="radio" checked="checked" value="@Model.ByCash"> By Cash
                                                        <i class="fa fa-circle-o small"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        @*<div class="form-group  has-feedback col-sm-offset-2" id="div2" style="display:none;">
                                                <div class="form-group  has-feedback">
                                                    <label class="col-sm-5 control-label">Fee Amount :</label>
                                                    <div class="col-sm-7">
                                                        @Html.TextBoxFor(m => m.FeesAmount, new { @id = "FeesAmount", @class = "form-control", value = "@Model.FeesAmount", placeholder = "Fees Amount", data_toggle = "tooltip", data_placement = "bottom", title = "Fees Amount" })
                                                    </div>
                                                </div>
                                            </div>*@
                                        <div class="form-group  has-feedback">
                                            <div class="col-sm-4">
                                                <div class="radio">
                                                    <label>
                                                        <input type="radio" id="id2" name="radio" value="@Model.ByDd"> By DD
                                                        <i class="fa fa-circle-o small"></i>
                                                    </label>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group  has-feedback col-sm-offset-2" id="div1" style="display:none;">
                                            <div class="form-group  has-feedback">
                                                <label class="col-sm-5 control-label ">DD No :</label>
                                                <div class="col-sm-7">
                                                    @Html.TextBoxFor(m => m.DdNo, new { @id = "DDNo", @class = "form-control", value = "@Model.DDNo", placeholder = "DDNo", data_toggle = "tooltip", data_placement = "bottom", title = "DDNo" })
                                                </div>
                                            </div>
                                            <div class="form-group  has-feedback">
                                                <label class="col-sm-5 control-label ">Drawn On :</label>
                                                <div class="col-sm-7">
                                                    @Html.TextBoxFor(m => m.DrawnOn, new { @id = "DrawnOn", @class = "form-control", value = "@Model.DrawnOn", placeholder = "DrawnOn", data_toggle = "tooltip", data_placement = "bottom", title = "DrawnOn" })
                                                </div>
                                            </div>
                                            <div class="form-group  has-feedback">
                                                <label class="col-sm-5 control-label ">DD Date :</label>
                                                <div class="col-sm-7">
                                                    @Html.TextBoxFor(m => m.DdDate, "{0:dd-MMM-yyyy}", new { @id = "DDDate", @class = "form-control", value = "@Model.DDDate", placeholder = "Select DDDate", data_toggle = "tooltip", data_placement = "bottom", title = "DD Date" })
                                                    <span class="fa fa-calendar txt-danger form-control-feedback"></span>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="form-group  has-feedback">
                                    <label class="col-sm-2 control-label">Convocation Fee :</label>
                                    <div class="col-sm-2">
                                        <span id="convocationfee"></span>
                                    </div>
                                    <label class="col-sm-2 control-label"> Postal Charges :</label>
                                    <span id="postalChargeInIndia"></span><span id="postalChargeAbroad"></span>
                                </div>
                                <div class="form-group  has-feedback">
                                    <label class="col-sm-2 control-label">Total Fee :</label>
                                    <div class="col-sm-1">
                                        <span id="toralFee"></span>
                                    </div>
                                </div>
                            </div>

                            <div class="form-group">
                                <div class="col-sm-2">
                                    <button type="button" value="Index" class="btn btn-primary btn-label-left pull-left" onclick="location.href =
    '@Url.Action("Index", "Convocation")'">
                                        <span><i class="fa fa-list-ul"></i></span>
                                        Back to List
                                    </button>
                                </div>
                                <div class="col-sm-offset-8 col-sm-2">
                                    <button type="submit" value="Create" title="Save" class="btn btn-primary btn-label-left pull-right">
                                        <span><i class="fa fa-save"></i></span>
                                        Save
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                }
            </div>
        </div>
    </div>
</div>
<script>

    $('InIndia').checked = false;
    $('Abroad').checked = false;
    $('#postalChargeInIndia').hide();
    $('#postalChargeAbroad').hide();
    var Convocationfee = $('#convocationfee').text();
    $('#toralFee').html(Convocationfee);

    function FeeForInPerson() {
        $('#postalChargeInIndia').hide();
        $('#postalChargeAbroad').hide();
        var Convocationfee = $('#convocationfee').text();
        $('#toralFee').html(Convocationfee);
    }
    function FeeForIndia() {
        $('#postalChargeInIndia').show();
        $('#postalChargeAbroad').hide()
        var PostalFee = $('#postalChargeInIndia').text();
        var Convocationfee = $('#convocationfee').text();
        var Total = parseInt(Convocationfee) + parseInt(PostalFee);
        $('#Abroad').attr('checked', false);
        $('#toralFee').html('');
        $('#toralFee').html(Total);

    }
    function FeeForAbroad() {
        $('#postalChargeInIndia').hide();
        $('#postalChargeAbroad').show()
        var PostalFee = $('#postalChargeAbroad').text();
        var Convocationfee = $('#convocationfee').text();
        var Total = parseInt(Convocationfee) + parseInt(PostalFee);
        $('#InIndia').attr('checked', false);
        $('#toralFee').html('');
        $('#toralFee').html(Total);
    }
</script>



<script type="text/javascript">
    $('#PRNNo').change(function () {
        //alert('hi');
        $.ajax({
            url: '@Url.Action("PRNChange", "Convocation")',
            type: 'post',
            data: {
                prnNo: $('#PRNNo').val()
            },
            success: function (_result) {
                //$('#tdCentre').html(_result.Centre);
                //$('#tdCollege').html(_result.College);
                //$('#tdCourseType').html(_result.CourseType);
                //$('#tdCourse').html(_result.Course);
                //$('#tdCoursePart').html(_result.CoursePart);
                //$('#tdBranch').html(_result.Branch);
                //$('#tdName').html(_result.StudentName);
                //$('#tdAddress').html(_result.PermanentAddress);
                //$('#tdGender').html(_result.Gender);
                //$('#tdPhone').html(_result.Phone);
                //$('#tdPincode').html(_result.Pincode);
                //$('#tdLastPassingYear').html(_result.LastPassingYear);
                //$('#tdLastPercentage').html(_result.LastPercentage);
                //$('#tdLastSeatNo').html(_result.LastSeatNo);
                //$('#tdClass').html(_result.Class);
                $('#tdCentre').html(_result.Centre);
                $('#tdCollege').html(_result.College);
                $('#tdCourseType').html(_result.CourseType);
                $('#tdCourse').html(_result.Course);
                $('#tdCoursePart').html(_result.CoursePart);
                $('#tdName').html(_result.StudentName);
                $('#tdAddress').html(_result.PermanentAddress);
                $('#tdGender').html(_result.Gender);
                $('#tdPhone').html(_result.Phone);
                $('#tdPincode').html(_result.Pincode);
                $('#tdEmail').html(_result.Email);
                $('#tdLastPassingYear').html(_result.LastPassingYear);
                $('#tdLastPercentage').html(_result.LastPercentage);
                $('#tdLastSeatNo').html(_result.LastSeatNo);
                $('#tdClass').html(_result.Class);
                $('#tdPhoto').html('<img src="' + _result.Photo + '" />');
                $('#StudentID').val(_result.StudentID)
                $('#tdPassingMonth').html(_result.PassingMonth);
                $('#tdCGPA').html(_result.CGPA);
                $('#tdGrade').html(_result.Grade);
                $('#tdBranch').html(_result.Branch);
            }
        });
    });


    $(document).ready(function () {

        $('#InPerson').click(function () {
            $('#postalCharges').hide();
            //$('#div1').hide();
        });

        $('#InAbsentia').click(function () {
            $('#postalCharges').show();
            //$('#div1').hide();
        });

        $('#id1').click(function () {
            $('#div2').show();
            $('#div1').hide();
        });
        $('#id2').click(function () {
            $('#div1').show();
            $('#div2').hide();
        });

        // Add the "focus" value to class attribute
        $('ul.radio li').focusin(function () {
            $(this).addClass('focus');
        }
        );

        // Remove the "focus" value to class attribute
        $('ul.radio li').focusout(function () {
            $(this).removeClass('focus');
        }
        );


        $('.form-control').tooltip();
        // Initialize datepicker
        $('#DDDate').datepicker({ setDate: new Date(), dateFormat: 'dd-M-yy' });
        LoadSelect2Script(DemoSelect2);

        $('#ApprovalDate').datepicker({ setDate: new Date(), dateFormat: 'dd-M-yy' });
        LoadSelect2Script(DemoSelect2);

        //// Load example of form validation
        LoadBootstrapValidatorScript(DemoFormValidator);


        $('#postalCharges')

    });

    $(document).ready(function () {

        //$('#id1').click(function () {
        //    $('#div2').show();
        //    $('#div1').hide();
        //});
        //$('#id2').click(function () {
        //    $('#div1').show();
        //    $('#div2').hide();
        //});
        // Add tooltip to form-controls
        $('.form-control').tooltip();
        // Initialize datepicker
        $('#Date').datepicker({ setDate: new Date(), dateFormat: 'dd-M-yy' });
        $('#ApprovalDate').datepicker({ setDate: new Date(), dateFormat: 'dd-M-yy' });

        //// Load example of form validation
        LoadBootstrapValidatorScript(DemoFormValidator);

        $("#PRNNo").change();
    });
</script>
